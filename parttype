#!/bin/bash

# パーティションタイプ
# from http://www.win.tue.nl/~aeb/partitions/partition_types-1.html
part_type() {
    local id=$1
    local part_type=(
        00 "Empty"
        01 "DOS 12-bit FAT"
        02 "XENIX root"
        03 "XENIX /usr"
        04 "DOS 3.0+ 16-bit FAT (up to 32M)"
        05 "Extended Partition"
        06 "DOS 3.31+ 16-bit FAT (over 32M)"
        07 "HPFS/NTFS/exFAT"
        08 "Commodore DOS"
        09 "QNX 1.x and 2.x ('qnz')"
        0a "OS/2 Boot Manager"
        0b "WIN95 OSR2 FAT32"
        0c "WIN95 OSR2 FAT32, LBA-mapped"
        0d "unknown"
        0e "WIN95: DOS 16-bit FAT, LBA-mapped"
        0f "WIN95: Extended partition, LBA-mapped"
        10 "OPUS"
        11 "Hidden DOS 12-bit FAT"
        12 "Configuration/diagnostics partition"
        13 "unknown"
        14 "Hidden DOS 16-bit FAT "
        15 "unknown"
        16 "Hidden DOS 16-bit FAT >=32M"
        17 "Hidden IFS (e.g., HPFS)"
        18 "AST SmartSleep Partition"
        19 "Unused"
        1a "unknown"
        1b "Hidden WIN95 OSR2 FAT32"
        1c "Hidden WIN95 OSR2 FAT32, LBA-mapped"
        1d "unknown"
        1e "Hidden WIN95 16-bit FAT, LBA-mapped"
        1f "unknown"
        20 "Unused"
        21 "Unused"
        22 "Unused"
        23 "Reserved"
        24 "NEC DOS 3.x"
        25 "unknown"
        26 "Reserved"
        27 "RouterBOOT kernel partition"
        28 "unknown"
        29 "unknown"
        2a "AtheOS File System (AFS)"
        2b "SyllableSecure (SylStor)"
        2c "unknown"
        2d "unknown"
        2e "unknown"
        2f "unknown"
        30 "unknown"
        31 "Reserved"
        32 "NOS"
        33 "Reserved"
        34 "Reserved"
        35 "JFS on OS/2 or eCS"
        36 "Reserved"
        37 "unknown"
        38 "THEOS ver 3.2 2gb partition"
        39 "Plan 9 partition"
        3a "THEOS ver 4 4gb partition"
        3b "THEOS ver 4 extended partition"
        3c "PartitionMagic recovery partition"
        3d "Hidden NetWare"
        3e "unknown"
        3f "unknown"
        40 "Venix 80286"
        41 "Linux/MINIX (sharing disk with DRDOS)"
        42 "Linux swap (sharing disk with DRDOS)"
        43 "Linux native (sharing disk with DRDOS)"
        44 "GoBack partition"
        45 "Priam"
        46 "EUMEL/Elan"
        47 "EUMEL/Elan"
        48 "EUMEL/Elan"
        49 "unknown"
        4a "AdaOS Aquila (Withdrawn)"
        4b "unknown"
        4c "Oberon partition"
        4d "QNX4.x"
        4e "QNX4.x 2nd part"
        4f "QNX4.x 3rd part"
        50 "Lynx RTOS"
        51 "Novell"
        52 "Microport SysV/AT"
        53 "Disk Manager 6.0 Aux3"
        54 "Disk Manager 6.0 Dynamic Drive Overlay (DDO)"
        55 "EZ-Drive"
        56 "DM converted to EZ-BIOS"
        57 "DrivePro"
        58 "unknown"
        59 "unknown"
        5a "unknown"
        5b "unknown"
        5c "Priam EDisk"
        5d "unknown"
        5e "unknown"
        5f "unknown"
        60 "unknown"
        61 "SpeedStor"
        62 "unknown"
        63 "Unix System V (SCO, ISC Unix, UnixWare, ...), Mach, GNU Hurd"
        64 "PC-ARMOUR protected partition"
        65 "Novell Netware 386, 3.xx or 4.xx"
        66 "Novell Netware SMS Partition"
        67 "Novell"
        68 "Novell"
        69 "Novell Netware 5+, Novell Netware NSS Partition"
        6a "unknown"
        6b "unknown"
        6c "unknown"
        6d "unknown"
        6e "unknown"
        6f "unknown"
        70 "DiskSecure Multi-Boot"
        71 "Reserved"
        72 "V7/x86"
        73 "Reserved"
        74 "Scramdisk partition"
        75 "IBM PC/IX"
        76 "Reserved"
        77 "VNDI Partition"
        78 "XOSL FS"
        79 "unknown"
        7a "unknown"
        7b "unknown"
        7c "unknown"
        7d "unknown"
        7e "Unused"
        7f "Unused"
        80 "MINIX until 1.4a"
        81 "MINIX since 1.4b, early Linux"
        82 "Linux swap"
        83 "Linux native partition"
        84 "Hibernation partition"
        85 "Linux extended partition"
        86 "FAT16 volume set"
        87 "NTFS volume set"
        88 "Linux plaintext partition table"
        89 "unknown"
        8a "Linux Kernel Partition"
        8b "Legacy Fault Tolerant FAT32 volume"
        8c "Legacy Fault Tolerant FAT32 volume using BIOS extd INT 13h"
        8d "Free FDISK 0.96+ hidden Primary DOS FAT12 partitition"
        8e "Linux Logical Volume Manager partition"
        8f "unknown"
        90 "Free FDISK 0.96+ hidden Primary DOS FAT16 partitition"
        91 "Free FDISK 0.96+ hidden DOS extended partitition"
        92 "Free FDISK 0.96+ hidden Primary DOS large FAT16 partitition"
        93 "Hidden Linux native partition"
        94 "Amoeba bad block table"
        95 "MIT EXOPC native partitions"
        96 "CHRP ISO-9660 filesystem"
        97 "Free FDISK 0.96+ hidden Primary DOS FAT32 partitition"
        98 "Free FDISK 0.96+ hidden Primary DOS FAT32 partitition (LBA)"
        99 "DCE376 logical drive"
        9a "Free FDISK 0.96+ hidden Primary DOS FAT16 partitition (LBA)"
        9b "Free FDISK 0.96+ hidden DOS extended partitition (LBA)"
        9c "unknown"
        9d "unknown"
        9e "ForthOS partition"
        9f "BSD/OS"
        a0 "Laptop hibernation partition"
        a1 "Laptop hibernation partition"
        a2 "unknown"
        a3 "HP Volume Expansion (SpeedStor variant)"
        a4 "HP Volume Expansion (SpeedStor variant)"
        a5 "BSD/386, 386BSD, NetBSD, FreeBSD"
        a6 "OpenBSD"
        a7 "NeXTStep"
        a8 "Mac OS-X"
        a9 "NetBSD"
        aa "Olivetti Fat 12 1.44MB Service Partition"
        ab "Mac OS-X Boot partition"
        ac "unknown"
        ad "RISC OS ADFS"
        ae "ShagOS filesystem"
        af "MacOS X HFS"
        b0 "BootStar Dummy"
        b1 "QNX Neutrino Power-Safe filesystem"
        b2 "QNX Neutrino Power-Safe filesystem"
        b3 "HP Volume Expansion (SpeedStor variant)"
        b4 "HP Volume Expansion (SpeedStor variant)"
        b5 "unknown"
        b6 "HP Volume Expansion (SpeedStor variant)"
        b7 "BSDI BSD/386 filesystem"
        b8 "BSDI BSD/386 swap partition"
        b9 "unknown"
        ba "unknown"
        bb "Boot Wizard hidden"
        bc "Acronis backup partition"
        bd "BonnyDOS/286"
        be "Solaris 8 boot partition"
        bf "New Solaris x86 partition"
        c0 "CTOS"
        c1 "DRDOS/secured (FAT-12)"
        c2 "Hidden Linux"
        c3 "Hidden Linux swap"
        c4 "DRDOS/secured (FAT-16, < 32M)"
        c5 "DRDOS/secured (extended)"
        c6 "Windows NT corrupted FAT16 volume/stripe set"
        c7 "Syrinx boot"
        c8 "Reserved for DR-DOS 8.0+"
        c9 "Reserved for DR-DOS 8.0+"
        ca "Reserved for DR-DOS 8.0+"
        cb "DR-DOS 7.04+ secured FAT32 (CHS)/"
        cc "DR-DOS 7.04+ secured FAT32 (LBA)/"
        cd "CTOS Memdump?"
        ce "DR-DOS 7.04+ FAT16X (LBA)/"
        cf "DR-DOS 7.04+ secured EXT DOS (LBA)/"
        d0 "Multiuser DOS secured partition"
        d1 "Old Multiuser DOS secured FAT12"
        d2 "unknown"
        d3 "unknown"
        d4 "Old Multiuser DOS secured FAT16 <32M"
        d5 "Old Multiuser DOS secured extended partition"
        d6 "Old Multiuser DOS secured FAT16 >=32M"
        d7 "unknown"
        d8 "CP/M-86"
        d9 "unknown"
        da "Powercopy Backup"
        db "KDG Telemetry SCPU boot"
        dc "unknown"
        dd "Hidden CTOS Memdump?"
        de "Dell PowerEdge Server utilities (FAT fs)"
        df "BootIt EMBRM"
        e0 "unknown"
        e1 "DOS access or SpeedStor 12-bit FAT extended partition"
        e2 "unknown"
        e3 "DOS R/O or SpeedStor"
        e4 "unknown"
        e5 "Tandy MSDOS with logically sectored FAT"
        e6 "Storage Dimensions SpeedStor"
        e7 "unknown"
        e8 "LUKS"
        e9 "unknown"
        ea "unknown"
        eb "BeOS BFS"
        ec "SkyOS SkyFS"
        ed "Unused"
        ee "GPT"
        ef "Partition that contains an EFI file system"
        f0 "Linux/PA-RISC boot loader"
        f1 "Storage Dimensions SpeedStor"
        f2 "DOS 3.3+ secondary partition"
        f3 "Reserved"
        f4 "SpeedStor large partition"
        f5 "Prologue multi-volume partition"
        f6 "Storage Dimensions SpeedStor"
        f7 "DDRdrive Solid State File System"
        f8 "unknown"
        f9 "pCache"
        fa "Bochs"
        fb "VMware File System partition"
        fc "VMware Swap partition"
        fd "Linux raid partition with autodetect using persistent superblock"
        fe "Windows NT Disk Administrator hidden partition"
        ff "Xenix Bad Block Table"
    )
    if [[ ($id -lt 0) || ($id -gt $(( ${#part_type[@]} / 2))) ]]; then
        echo "part_type error: $id"
        exit 2
    fi
    echo ${part_type[$((($id * 2) + 1))]}
}
